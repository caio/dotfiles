# vim: filetype=muttrc

set realname="Caio RomÃ£o"
set from="rcaio@br.ibm.com"
set sendmail="/usr/bin/msmtp"
set envelope_from=yes
set edit_headers=yes
set editor="vim +/^$ ++1"

set sort=threads
set sort_aux=reverse-last-date-received
set sort_browser=reverse-date

set mail_check=30
set mbox_type=Maildir
set folder=$HOME/.mail
set mbox="+work/archive"
set spoolfile="+work/INBOX"
set postponed="+work/Drafts"
set trash="+work/Trash"
set record="+work/Sent"

mailboxes +notes
mailboxes `\
for file in ~/.mail/notes/.*; do \
  box=$(basename "$file"); \
  if [ ! "$box" = '.' -a ! "$box" = '..' -a ! "$box" = '.customflags' \
      -a ! "$box" = '.subscriptions' ]; then \
    echo -n "\"+notes/$box\" "; \
  fi; \
done`
source $HOME/.mutt/mailboxes

# set imap_check_subscribed=yes
set header_cache=~/.mutt/headercache
set sig_dashes
set signature=~/.signature

set ssl_starttls=no

set sidebar_visible=yes
set sidebar_width=35
set sidebar_delim="|"
set sidebar_sort=yes

set query_command = "~/bin/bluepages --mutt '%s'"
set beep_new=yes
set ascii_chars=yes
set auto_tag=yes
set autoedit=yes
set charset="utf-8"
set config_charset="utf-8"
set confirmappend=no
set delete=yes
set include=yes
set mark_old=no
set move=yes
set pager_index_lines=15
set prompt_after=no
set read_inc=25
set reply_to=yes
set reverse_name=yes
set save_empty=no
set send_charset="utf-8:iso-8859-1"
set tilde=yes
set write_inc=25
set collapse_unread=no
set reply_regexp="^(re([\[0-9\]+])*|aw|res):[ \t]*"
set rfc2047_parameters=yes
set markers
set smart_wrap

# load colors
source $HOME/.mutt/colors

# Header fields I don't normally want to see
ignore *
unignore From:
unignore To:
unignore Reply-To:
unignore Mail-Followup-To:
unignore Subject:
unignore Date:
unignore CC:
unignore BCC:
unignore x-mailer
unignore x-url
hdr_order From: Return-Path: Reply-To: Date: Subject: Importance:

# Formatting
set compose_format="-- %v-- Compose  [Approximate Message Size: %l   Attachments: %a]%>-"
set attach_format="%u%D%I %t%4n %T%.40d%> [%.7m/%.10M, %.6e%?C?, %C?, %s] "
set alias_format="%4n %2f %t %-12a  %r"
set status_format="-%r-%v--[%?M?%M/?%m msgs%?n?, %n new?%?d?, %d del?%?F?, %F flag?%?t?, %t tag?%?p?, %p postp?%?b?, %b inc?%?l?, %l?]--(%f)--%s-%>-%P-"
set folder_format="%3C %t%N %F %-8.8u %-8.8g %8s %d %f"
set message_format="%-.16n: %s"
set pager_format="~~~~~~~~~ On %{%a, %d %b %Y} at [%[%H:%M]]: %s %|~"
set attribution='On %{%a, %d %b %Y}, %n wrote:\n'
set forward_format = "[%s]"

# bindings
# ctrl-n, ctrl-p to select next, prev folder
# ctrl-o to open selected folder
bind index \CP sidebar-prev
bind index \CN sidebar-next
bind index \CO sidebar-open
bind pager \CP sidebar-prev
bind pager \CN sidebar-next
bind pager \CO sidebar-open

# emacs-like bindings for moving to top/bottom
bind generic "\e<" first-entry
bind generic \e> last-entry
bind generic { top-page
bind generic } bottom-page
bind generic \177 last-entry

bind pager G bottom

source $HOME/.mutt/macros

# Automatically use entries from ~/.mailcap to view these MIME types
set mailcap_path=$HOME/.mutt/mailcap
# auto_view application/x-gunzip
# auto_view application/x-gzip
auto_view text/html
alternative_order text/enriched text/plain text/html
mime_lookup application/octec-stream

# aliases for broken MUAs
charset-hook US-ASCII ISO-8859-1
charset-hook us-ascii ISO-8859-1
charset-hook x-unknown ISO-8859-1
charset-hook windows-1250 CP1250
charset-hook windows-1251 CP1251
charset-hook windows-1252 CP1252
charset-hook windows-1253 CP1253
charset-hook windows-1254 CP1254
charset-hook windows-1255 CP1255
charset-hook windows-1256 CP1256
charset-hook windows-1257 CP1257
charset-hook windows-1258 CP1258

# hooks
folder-hook +work.* set from="caio@linux.vnet.ibm.com"
folder-hook +notes.* set from="rcaio@br.ibm.com"
